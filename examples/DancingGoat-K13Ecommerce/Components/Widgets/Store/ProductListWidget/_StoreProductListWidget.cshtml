@using DancingGoat.Components.Widgets.Store.ProductListWidget
@model StoreProductListWidgetViewModel

@if (!string.IsNullOrEmpty(Model.Title))
{
    <h2>@Model.Title</h2>
}
<div class="col-md-12">
    <div class="content-wrapper" style="padding: 0 2.4rem 2em 2.4rem;">
        <div class="row" style="display: flex; flex-wrap: wrap;">
            @foreach (var product in Model.Products)
            {
                <div class="col-md-4" style="padding: 1rem 0.6rem;">
                    <div class="product-card">
                        <a href="@product.ProductUrl" style="text-decoration: none">
                            <div style="text-align: center;">
                                <img src="@product.Image" alt="@product.ImageAlt" loading="lazy">
                                <h3>@product.Name</h3>
                                <div style="overflow: hidden;
                                        display: -webkit-box;
                                        -webkit-line-clamp: 4;
                                        -webkit-box-orient: vertical;
                                        height: 100px;">
                                    @Html.Raw(product.ShortDescription)
                                </div>
                            </div>
                            <div class="product-tile-info" style="color: #000">
                                <span class="product-tile-price" style="font-size: 1.375rem;font-weight: bold;">
                                    @string.Format(Model.CurrencyFormatString, product.Price)
                                </span>
                                @if (product.ListPrice > product.Price)
                                {
                                    <span class="product-tile-list-price" style="text-decoration: line-through;font-size: 1rem;">
                                        @string.Format(Model.CurrencyFormatString, product.ListPrice)
                                    </span>
                                }
                            </div>
                        </a>
                    </div>
                </div>
            }
        </div>
    </div>
</div>